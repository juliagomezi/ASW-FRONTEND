<div class="thread">

	<div class="comment">

		<!-- Title -->
		<div class="title">

			<!-- Mirar si l'usuari actual ha votat el comentari -->
			<span class="large-points" *ngIf="isFavourite(comment?.id)">
				<button mat-icon-button color="primary" (click)="unvote(comment?.id)"> <mat-icon>favorite</mat-icon> </button>
			</span>
			<span class="large-points" *ngIf="!isFavourite(comment?.id)">
				<button mat-icon-button color="primary" (click)="vote(comment?.id)"> <mat-icon>favorite_border</mat-icon> </button>
			</span>

			<!-- User -->
			<span class="user">
				<a [routerLink]="['/user', comment?.author]" title="Posted by {{ comment?.author }}">{{ comment?.author }}</a>
			</span> |

			<!-- Time -->
			<span class="time">
				Posted on {{ comment?.date | dateFormatPipe }}
			</span>

		</div>

		<!-- Content i comment -->
		<div class="content">
			<span *ngIf="comment?.contributionId">
				<a class="nolink" [routerLink]="['/comment', comment?.id]">{{ comment?.text }}</a>
			</span>
			<span *ngIf="comment?.contributionId">
				<a [routerLink]="['/comment', comment?.id]">comment</a>
			</span>
		</div>

	</div>

	<!-- Nested comments -->
	<app-comment
		*ngFor="let comment of comment?.replies"
		[comment]="comment" [favouriteItems]="favouriteItems">
	</app-comment>

</div>
